'use strict';

const msgToSerialize = {
  msgId:     'tesmsgId',
  timestamp: 123456789,
  replyTo:   'replyId',
  replyOn:   'msgreply',
  message:   Uint8Array.from(Buffer.from('test message')),
};

// it should fail for null message which cannot be converted to object
const failMsgToSerialize = {
  msgId:     'tesmsgId',
  timestamp: 123456789,
  replyTo:   'replyId',
  replyOn:   'msgreply',
  message:   null,
};

const expectedMsgSerialized = Uint8Array.from([123, 34, 109, 115, 103, 73, 100,
  34, 58, 34, 116, 101, 115, 109, 115, 103, 73, 100, 34, 44, 34, 116, 105, 109,
  101, 115, 116, 97, 109, 112, 34, 58, 49, 50, 51, 52, 53, 54, 55, 56, 57, 44,
  34, 114, 101, 112, 108, 121, 84, 111, 34, 58, 34, 114, 101, 112, 108, 121, 73,
  100, 34, 44, 34, 114, 101, 112, 108, 121, 79, 110, 34, 58, 34, 109, 115, 103,
  114, 101, 112, 108, 121, 34, 44, 34, 109, 101, 115, 115, 97, 103, 101, 34, 58,
  91, 49, 49, 54, 44, 49, 48, 49, 44, 49, 49, 53, 44, 49, 49, 54, 44, 51, 50,
  44, 49, 48, 57, 44, 49, 48, 49, 44, 49, 49, 53, 44, 49, 49, 53, 44, 57, 55,
  44, 49, 48, 51, 44, 49, 48, 49, 93, 125]);

const msgToUnserialize = Uint8Array.from([123, 34, 109, 115, 103, 73, 100,
  34, 58, 34, 116, 101, 115, 109, 115, 103, 73, 100, 34, 44, 34, 116, 105, 109,
  101, 115, 116, 97, 109, 112, 34, 58, 49, 50, 51, 52, 53, 54, 55, 56, 57, 44,
  34, 114, 101, 112, 108, 121, 84, 111, 34, 58, 34, 114, 101, 112, 108, 121, 73,
  100, 34, 44, 34, 114, 101, 112, 108, 121, 79, 110, 34, 58, 34, 109, 115, 103,
  114, 101, 112, 108, 121, 34, 44, 34, 109, 101, 115, 115, 97, 103, 101, 34, 58,
  91, 49, 49, 54, 44, 49, 48, 49, 44, 49, 49, 53, 44, 49, 49, 54, 44, 51, 50,
  44, 49, 48, 57, 44, 49, 48, 49, 44, 49, 49, 53, 44, 49, 49, 53, 44, 57, 55,
  44, 49, 48, 51, 44, 49, 48, 49, 93, 125]);

const expectedMsgUnserialized = {
  msgId:     'tesmsgId',
  timestamp: 123456789,
  replyTo:   'replyId',
  replyOn:   'msgreply',
  message:   Uint8Array.from([116, 101, 115, 116, 32, 109, 101, 115, 115, 97, 103, 101]),
};

// same as msgToUnserialize but missing last character
// it should fail with Unexpected json input
const failMsgToUnserialize = Uint8Array.from([123, 34, 109, 115, 103, 73, 100,
  34, 58, 34, 116, 101, 115, 109, 115, 103, 73, 100, 34, 44, 34, 116, 105, 109,
  101, 115, 116, 97, 109, 112, 34, 58, 49, 50, 51, 52, 53, 54, 55, 56, 57, 44,
  34, 114, 101, 112, 108, 121, 84, 111, 34, 58, 34, 114, 101, 112, 108, 121, 73,
  100, 34, 44, 34, 114, 101, 112, 108, 121, 79, 110, 34, 58, 34, 109, 115, 103,
  114, 101, 112, 108, 121, 34, 44, 34, 109, 101, 115, 115, 97, 103, 101, 34, 58,
  91, 49, 49, 54, 44, 49, 48, 49, 44, 49, 49, 53, 44, 49, 49, 54, 44, 51, 50,
  44, 49, 48, 57, 44, 49, 48, 49, 44, 49, 49, 53, 44, 49, 49, 53, 44, 57, 55,
  44, 49, 48, 51, 44, 49, 48, 49, 93]);

module.exports = {
  msgToSerialize,
  expectedMsgSerialized,
  failMsgToSerialize,
  msgToUnserialize,
  expectedMsgUnserialized,
  failMsgToUnserialize,
};
